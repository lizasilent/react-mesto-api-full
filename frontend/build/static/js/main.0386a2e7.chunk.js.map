{"version":3,"sources":["images/mesto_logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/PopupWithForm.js","components/ImagePopup.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","utils/api2.js","utils/api.js","components/Footer.js","components/Register.js","components/Login.js","components/InfoTooltip.js","components/Page404.js","components/ProtectedRoute.js","images/sucesspopup.png","components/App.js","images/failpopup.png","reportWebVitals.js","index.js"],"names":["Header","loggedIn","email","handleLogout","pathname","useLocation","text","linkRoute","className","alt","src","mainLogo","to","onClick","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","type","link","name","length","Main","onEditAvatar","onEditProfile","onAddPlace","cards","currentUserInfo","style","backgroundImage","avatar","about","map","PopupWithForm","title","buttonTitle","children","isOpen","onClose","onSubmit","action","ImagePopup","EditProfilePopup","onUpdateUser","useEffect","setName","setDescription","useState","description","e","preventDefault","value","onChange","target","id","required","minLength","maxLength","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","ref","placeholder","AddPlacePopup","cardNameRef","cardLinkRef","BASE_URL","api","config","this","_baseUrl","baseUrl","_headers","headers","url","method","body","fetch","then","res","ok","json","Promise","reject","status","_fetch","values","JSON","stringify","cardId","takeCardLike","removeCardLke","authorization","Footer","Register","handleRegister","valueEmail","setValueEmail","valuePassword","setValuePassword","Login","handleLogin","InfoTooltip","message","iconPath","Page404","ProtectedRoute","Component","component","props","App","isEditProfilePopupOpen","setIsEditPopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","selectedCard","setSelectedCard","setLoggedIn","history","useHistory","isRegisterPopupOpen","setIsRegisterPopupOpen","setMessage","setEmail","handleInfoTooltipContent","token","jwt","localStorage","getItem","data","push","catch","err","console","log","setCurrentUser","closeAllPopups","getUserData","userData","setCards","getInitialCards","cardList","Provider","removeItem","exact","path","changeLikeCardStatus","newCard","newCards","c","delCard","newCardsTemplate","filter","password","setItem","auth","sucessLogoPath","setTimeout","patchUserData","patchUserAvatar","addUserCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0386a2e7.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/mesto_logo.a307e1c4.svg\";","import React from 'react';\nimport mainLogo from \"../images/mesto_logo.svg\"\nimport { Link, useLocation  } from 'react-router-dom';\n\n\nfunction Header({loggedIn, email, handleLogout}) {\n\n    const { pathname } = useLocation();\n    const text = `${pathname === '/sign-in' ? 'Регистрация' : 'Войти'}`;\n    const linkRoute = `${pathname === '/sign-in' ? '/sign-up' : '/sign-in'}`;\n\nreturn (\n    <header className=\"header\">\n            <div className=\"header__logo\">\n            <img alt='Logo' src={mainLogo}/>\n            </div>\n        <div className=\"header__box\">\n        \n        {loggedIn ? (\n          <>\n            <p className=\"header__login\">{email}</p>\n            <p><Link to=\"\" className=\"header__logout\" onClick={handleLogout}>Выйти</Link></p> \n          </>) \n          \n          : (<Link to={linkRoute} className=\"header__login\">{text}</Link> )\n        }\n        </div>\n    </header>\n)\n\n}\n\nexport default Header;","import React from \"react\";\n\nexport const CurrentUserContext = React.createContext();\n","import React from \"react\";\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\n\n\nfunction Card({card, onCardClick, onCardLike, onCardDelete }) {\n\n      //Контекст\n      const currentUser = React.useContext(CurrentUserContext);\n\n      const isOwn = card.owner._id === currentUser._id;\n\n      const cardDeleteButtonClassName = (\n        `grid__delete-btn ${!isOwn && 'grid__delete-btn_hidden'}`\n      ); \n\n      const isLiked = card.likes.some(i => i._id === currentUser._id);\n\n      const cardLikeButtonClassName = (\n        `grid__like-btn ${isLiked && 'grid__like_active-btn'}`\n      ); \n\n\n      function handleLikeClick() {\n        onCardLike(card);\n      }\n    \n      function handleCardDelete() {\n        onCardDelete(card);\n      }\n\n      function handleClick() {\n        onCardClick(card);\n      } \n\n  \n    return (\n        <li className=\"grid__item\">\n        <button className={cardDeleteButtonClassName} type=\"button\" onClick={handleCardDelete}/>\n        <img src={card.link} alt={card.name} className=\"grid__image\" onClick={handleClick} />\n        <div className=\"grid__text-container\">\n          <h2 className=\"grid__text\">{card.name}</h2>\n          <div className=\"grid__like-container\">\n            <button className={cardLikeButtonClassName} type=\"button\" onClick={handleLikeClick}/>\n            <div className=\"grid__like-counter\">{card.likes.length}</div>\n          </div>\n        </div>\n      </li>  \n      )\n  }\n\n\nexport default Card;","import React from \"react\"\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport Card from \"./Card\";\n\n\nfunction Main({onEditAvatar, onEditProfile, onAddPlace, onCardClick, cards, onCardLike, onCardDelete}) {\n\n  \n    //Контекст\n\n  const currentUserInfo = React.useContext(CurrentUserContext);\n        \n    return (\n        <main className=\"content\">\n        <section className=\"profile\">\n          <div className=\"profile__box\">\n            <div className=\"profile__avatar\" onClick={onEditAvatar} style={{ backgroundImage: `url(${currentUserInfo.avatar})` }} />\n            <div className=\"profile__text-content\">\n              <h1 className=\"profile__name\">{currentUserInfo.name}</h1>\n              <button className=\"profile__edit-btn\" type=\"button\" onClick={onEditProfile}/>\n              <p className=\"profile__description\">{currentUserInfo.about}</p>\n            </div>\n          </div>\n          <button className=\"profile__add-btn\" type=\"button\" onClick={onAddPlace} />\n        </section>\n        \n        <section className=\"grid\">\n          <ul className=\"grid__template\">\n          \n          {cards.map((card) => (<Card key={card._id} card={card} onCardClick={onCardClick} onCardLike={onCardLike} onCardDelete={onCardDelete} />))}\n            \n           \n          </ul>\n        </section>\n      </main>\n    )\n}\n\n\n\nexport default Main;","import React from 'react';\n\n\nfunction PopupWithForm({name, title, buttonTitle, children, isOpen, onClose, onSubmit}) {\n\n  \n    return (\n        <div className={`popup popup_type_${name}  ${isOpen && 'popup_is-open'}`}>\n            <form className=\"popup__form\" name={`${name}__form`} action=\"#\" onSubmit={onSubmit}>\n              <button className=\"popup__close-btn\" type=\"button\" onClick={onClose} />\n              <p className=\"popup__header\">{title}</p>\n              {children}\n              <button type=\"submit\" className=\"popup__submit-btn\">{buttonTitle}</button>\n            </form>\n          </div>\n    );\n}\n\nexport default PopupWithForm;","import React from 'react';\n\nfunction ImagePopup({card, onClose}) {\n  \nreturn(\n    <div className={`popup popup_type_grid-img ${card ? 'popup_is-open' : ''}`}>\n            <div className=\"popup__form\">\n              <button className=\"popup__close-btn\" type=\"button\" onClick={onClose} />\n              <img className=\"popup__image\" src={card.link} alt={card.name} />\n              <h2 className=\"popup__title\">{card.name}</h2> \n            </div>\n          </div>\n)\n}\n\nexport default ImagePopup;","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction EditProfilePopup({isOpen, onClose, onUpdateUser}) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n  React.useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser]); \n\n\n    const [name, setName] = React.useState(`${currentUser.name}`);\n    const [description, setDescription] = React.useState(`${currentUser.about}`);\n\n\n    function handleChangeName(e) {\n        setName(e.target.value);\n      }\n\n      function handleChangeDescription(e) {\n        setDescription(e.target.value);\n      }\n\n      function handleSubmit(e) {\n        e.preventDefault();\n        onUpdateUser({\n          name,\n          about: description,\n        });\n      } \n\n      \n\n    return (\n        <PopupWithForm onSubmit={handleSubmit} name=\"edit-profile\" title=\"Редактировать профиль\" buttonTitle=\"Сохранить\" isOpen={isOpen} onClose={onClose} >\n        <input type=\"text\" value={name} onChange={handleChangeName} id=\"name\" className=\"popup__input popup__input_invalid popup__text_name\" required minLength={2} maxLength={40}/>\n        <span className=\"popup__error popup__error_is-active\" id=\"name-error\" />\n        <input type=\"text\" value={description} onChange={handleChangeDescription} id=\"description\" className=\"popup__input popup__input_invalid popup__text_description\" required minLength={2} maxLength={200} />\n        <span className=\"popup__error popup__error_is-active\" id=\"description-error\"/></PopupWithForm>\n    )\n\n}\n\n\nexport default EditProfilePopup;","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction EditAvatarPopup({isOpen, onClose, onUpdateAvatar}) {\n\n    const avatarRef = React.useRef();\n\n    function handleSubmit(e) {\n        e.preventDefault();\n        onUpdateAvatar({\n            avatar: avatarRef.current.value\n        });\n      } \n      \n      \n    return (\n        <PopupWithForm onSubmit={handleSubmit} name=\"edit-avatar\" title=\"Обновить аватар\" buttonTitle=\"Сохранить\" isOpen={isOpen} onClose={onClose}>\n              <input ref={avatarRef} type=\"url\" name=\"image-src\" id=\"image-src\"  className=\"popup__input popup__source\" placeholder=\"Ссылка на картинку\" required />\n                  <span className=\"popup__error popup__error_is-active\" id=\"image-src-error\" />\n                </PopupWithForm> \n    )\n}\n\nexport default EditAvatarPopup;\n\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction AddPlacePopup({isOpen, onClose, onAddPlace}) {\n\n    const cardNameRef = React.useRef();\n    const cardLinkRef = React.useRef();\n\n\n   function handleSubmit(e) {\n    e.preventDefault();\n    onAddPlace({\n        name: cardNameRef.current.value,\n        link: cardLinkRef.current.value\n    });\n   }\n    \n\n    return (\n        <PopupWithForm onSubmit={handleSubmit} name=\"add-cards\" title=\"Новое место\" buttonTitle=\"Создать\" isOpen={isOpen} onClose={onClose}>\n                  <input ref={cardNameRef} type=\"text\" name=\"image-title\" id=\"image-title\" className=\"popup__input popup__input_invalid popup__text_place\" placeholder=\"Название\" required minLength={2} maxLength={30} />\n                  <span className=\"popup__error popup__error_is-active\" id=\"image-title-error\" />\n                  <input ref={cardLinkRef} type=\"url\" name=\"image-src\" id=\"image-src\" className=\"popup__input popup__source\" placeholder=\"Ссылка на картинку\" required />\n                  <span className=\"popup__error popup__error_is-active\" id=\"image-src-error\" /></PopupWithForm>\n    )\n\n}\n\nexport default AddPlacePopup;","export const BASE_URL = 'https://auth.nomoreparties.co';\n \nexport const register = (email, password) => {\n    return fetch(`${BASE_URL}/signup`, {\n      method: 'POST',\n      headers: {\n          \"Content-Type\": \"application/json\" \n      },\n      body: JSON.stringify({email, password}),\n    }).then(res => {\n      if (res.ok) {\n          return res.json();\n      }\n\n      return Promise.reject(`Ошибка: ${res.status}`);\n  })};\n\n\n  export const authorize = (email, password) => {\n    return fetch(`${BASE_URL}/signin`, {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({ email, password })\n    })\n    .then(res => {\n      if (res.ok) {\n          return res.json();\n      }\n\n      return Promise.reject(`Ошибка: ${res.status}`);\n  })\n    .then((data) => {\n      console.log(data)\n      if (data.token) {\n        localStorage.setItem('jwt', data.token);\n        return data.token;\n      }\n    })\n  }\n\nexport const getContent = (token) => {\n  return fetch(`${BASE_URL}/users/me`, {\n    method: 'GET',\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${token}`,\n    }\n  })\n  .then(res => {\n    if (res.ok) {\n        return res.json();\n    }\n\n    return Promise.reject(`Ошибка: ${res.status}`);\n})\n  .then((data) => data)\n}\n\n\n","class Api {\n    constructor(config){\nthis._baseUrl = config.baseUrl;\nthis._headers = config.headers;\n\n    }\n\n\n    _fetch(url, method, body) {\n        return fetch(this._baseUrl + url, {\n            method: method,\n            headers:\n            this._headers,\n            body: body\n        }).then(res => {\n            if (res.ok) {\n                return res.json();\n            }\n\n            return Promise.reject(`Ошибка: ${res.status}`);\n        })\n    }\n\n        \n    getInitialCards() {\n      return this._fetch('/cards', 'GET')\n    }\n  \n\n  addUserCard(values) {\n      return this._fetch('/cards', 'POST', JSON.stringify({\n          name: values.name,\n          link: values.link\n      }))\n  }\n\n  takeCardLike(cardId) {\n      return this._fetch(`/cards/likes/${cardId}`, 'PUT')\n  }\n\n  removeCardLke(cardId) {\n      return this._fetch(`/cards/likes/${cardId}`, 'DELETE')\n  }\n\n  changeLikeCardStatus(cardId, isLiked) {\n    if (isLiked) {\n        return this.takeCardLike(cardId)\n    } else {\n        return this.removeCardLke(cardId)\n    }\n}\n\n\n  delCard(cardId) {\n      return this._fetch(`/cards/${cardId}`, 'DELETE')\n  }\n\n  getUserData() {\n      return this._fetch('/users/me', 'GET')\n  }\n\n  patchUserData(values) {\n      return this._fetch('/users/me', 'PATCH', JSON.stringify(\n        {\n          name: values.name,\n          about: values.about\n      }))\n  }\n\n  patchUserAvatar(values) {\n      return this._fetch('/users/me/avatar', 'PATCH', JSON.stringify({\n          avatar: values.avatar\n      }))\n  }\n\n \n}\n\n\nconst api = new Api({\nbaseUrl: \"https://mesto.nomoreparties.co/v1/cohort-18\",\nheaders: {\n  authorization: \"1b98b7f8-c29f-4d66-ae18-3d1d376d7ed7\",\n  \"Content-Type\": \"application/json\"\n}\n});\n\nexport default api;","import React from 'react';\n\nfunction Footer() {\n    return (\n        <footer className=\"footer\">\n            <p className=\"footer__copyright\">© 2020 Mesto Russia</p>\n          </footer>\n    )\n}\n\n\n\nexport default Footer;","import React from 'react';\nimport Footer from \"./Footer\";\nimport { Link } from 'react-router-dom';\n\n\nconst Register = ({ handleRegister }) => {\n\n  const [valueEmail, setValueEmail] = React.useState('');\n  const [valuePassword, setValuePassword] = React.useState('');\n\n  function handleChangeEmail(e) {\n    setValueEmail(e.target.value);\n  }\n\n  function handleChangePassword(e) {\n    setValuePassword(e.target.value);\n  }\n\n  function handleSubmit(e){\n    e.preventDefault()\n    const email = valueEmail;\n    const password = valuePassword;\n    handleRegister(email, password)\n  } \n\n\n    return (\n        <div className=\"page\">\n        <div className=\"page__content\">\n        <main className=\"content\">\n        <div>\n            <form className=\"login__form\" type=\"submit\" onSubmit={handleSubmit}>\n              <p className=\"login__header\">Регистрация</p>\n              <input name=\"email\" className=\"login__input\" placeholder=\"Email\" type=\"email\" onChange={handleChangeEmail} required />\n              <input name=\"password\" className=\"login__input\" placeholder=\"Пароль\" type=\"password\"  onChange={handleChangePassword} required />\n                <span className=\"popup__error popup__error_is-active\" id=\"image-src-error\" />\n              <button type=\"submit\" className=\"login__button\">Зарегистрироваться</button>\n              <div className=\"login__sign-in\">Уже зарегистрированы? \n              <Link to=\"/sign-in\" className=\"login__sign-in\"> Войти </Link>\n      </div>\n            </form>\n          </div>\n          \n      </main>\n      <Footer />\n      </div>\n      </div>\n      \n    )\n}\n\nexport default Register;","import React from 'react';\nimport Footer from \"./Footer\"\n\n\nfunction Login({ handleLogin }) {\n  \n  const [valueEmail, setValueEmail] = React.useState('');\n  const [valuePassword, setValuePassword] = React.useState('');\n\n  function handleChangeEmail(e) {\n    setValueEmail(e.target.value);\n  }\n\n  function handleChangePassword(e) {\n    setValuePassword(e.target.value);\n  }\n\n  function handleSubmit(e){\n    e.preventDefault()\n    const email = valueEmail;\n    const password = valuePassword;\n\n    handleLogin(email,password);\n  }\n\n    \n  \n      return (\n          <div className=\"page\">\n          <div className=\"page__content\">\n          <main className=\"content\">\n          <div>\n              <form className=\"login__form\" onSubmit={handleSubmit}>\n                <p className=\"login__header\">Вход</p>\n                <input name=\"email\" value={valueEmail} className=\"login__input\" placeholder=\"Email\" type=\"email\" onChange={handleChangeEmail} required />\n                <input name=\"password\" value={valuePassword} className=\"login__input\" placeholder=\"Пароль\" type=\"password\"  onChange={handleChangePassword} required />\n                  <span className=\"popup__error popup__error_is-active\" id=\"image-src-error\" />\n                <button type=\"submit\" className=\"login__button\">Войти</button>\n              </form>\n            </div>\n        </main>\n        <Footer />\n        </div>\n        </div>\n      )\n}\n\nexport default Login;","import React from 'react';\n\nfunction InfoTooltip({isOpen, onClose, message}) {\n\n    return (\n        <div className={`popup popup_type_registration ${isOpen && 'popup_is-open'}`}>\n            <form className=\"popup__form\" name=\"registration__form\" action=\"#\">\n              <button className=\"popup__close-btn\" type=\"button\" onClick={onClose} />\n              <img alt=\"sucessPopup\" src={message.iconPath} className=\"popup__sucess-img\"/>\n              <p className=\"popup__header\">{message.text}</p>\n            </form>\n          </div>\n    );\n}\n\nexport default InfoTooltip;","import React from 'react';\nimport Footer from \"./Footer\";\nimport { Link } from 'react-router-dom';\n\n\nfunction Page404() {\n\n    return (\n        \n<div className=\"page\">\n          <div className=\"page__content\">\n          <main className=\"content\">\n          <div>\n          <div className=\"profile__name\">\n          <p> Oops we did it again! </p> \n          <p>Такой страницы не существует, попробуйте перейти <Link to=\"/sign-in\"  className=\"profile__name\"> вот сюда </Link>\n         </p>\n          </div>\n            </div>\n        </main>\n        <Footer />\n        </div>\n        </div>\n    );\n}\n\nexport default Page404;\n","import React from 'react';\nimport Footer from './Footer';\nimport { Route, Redirect } from \"react-router-dom\";\n\nconst ProtectedRoute = ({ component: Component, ...props  }) => {\n\n  return (\n    <Route>\n      <>\n        { \n          props.loggedIn ? <Component {...props} /> : <Redirect to=\"/sign-in\" />\n        }\n        <Footer />\n      </>\n    </Route>\n)}\n\nexport default ProtectedRoute; ","export default \"data:image/png;base64,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\"","import React from \"react\";\nimport { useHistory, Route, Switch, Redirect } from \"react-router-dom\";\nimport Header from \"./Header\";\nimport Main from \"./Main\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport ImagePopup from \"./ImagePopup\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport * as auth from '../utils/api2.js';\nimport api from \"../utils/api\";\nimport Register from \"./Register\";\nimport Login from \"./Login\";\nimport InfoTooltip from './InfoTooltip';\nimport Page404 from \"./Page404\";\nimport ProtectedRoute from \"./ProtectedRoute\";\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport sucessLogoPath from \"../images/sucesspopup.png\";\nimport failLogoPath from \"../images/failpopup.png\";\n\nfunction App() {\n\n  //Открытие попапов \n  const [isEditProfilePopupOpen, setIsEditPopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState(false);\n  const [loggedIn, setLoggedIn] = React.useState(false);\n  const history = useHistory();\n  const [isRegisterPopupOpen, setIsRegisterPopupOpen] = React.useState(false);\n  const [message, setMessage] = React.useState({ iconPath: '', text: '' });\n  const [email, setEmail] = React.useState('');\n\n\n  const handleInfoTooltipContent = ({iconPath, text}) => {\n    setMessage({ iconPath: iconPath, text: text })\n  }\n  \n  React.useEffect(() => {\n    const jwt = localStorage.getItem('jwt');\n    if (jwt) {\n      auth.getContent(jwt)\n        .then((res) => {\n          setLoggedIn(true);\n          setEmail(res.data.email);\n          history.push('/');\n        })\n        .catch(err => console.log(err));\n    }\n  }, [history]);\n\n\n    const handleLogin = (email, password) => {\n      auth.authorize(email, password)\n      .then(() => {\n          setEmail(email);\n          setLoggedIn(true);\n        history.push('/');\n        })\n        .catch((err) => console.log(err));\n    }\n   \n    const handleRegister = (email, password) => {\n      auth.register(email, password)\n      .then((res) => {\n        setIsRegisterPopupOpen(true);\n        handleInfoTooltipContent({iconPath: sucessLogoPath, text: \"Вы успешно зарегистрировались!\"});\n        setTimeout(history.push, 3000, \"/sign-in\");\n        setTimeout(closeAllPopups, 2500);\n\n        if (res.status === 201 || res.status === 200) {\n          setIsRegisterPopupOpen(true);\n          handleInfoTooltipContent({iconPath: sucessLogoPath, text: \"Вы успешно зарегистрировались!\"});\n          setTimeout(history.push, 3000, \"/sign-in\");\n          setTimeout(closeAllPopups, 2500);\n      }\n\n      if (res.status === 400) {\n        console.log(\"Такой email уже существует\")\n      }\n      \n    }).catch((err) => {\n    setIsRegisterPopupOpen(true);\n    handleInfoTooltipContent({iconPath: failLogoPath, text: \"Что-то пошло не так! Попробуйте ещё раз.\"});\n    setTimeout(closeAllPopups, 2500);\n    console.log(\"Ошибка регистрации: \" + err);\n    })}\n  \n    const handleLogout = () => {\n\n      setLoggedIn(false);\n      localStorage.removeItem('jwt');\n      setEmail('');\n      history.push('/sign-in');\n    }\n\n  // Стейт, отвечающий за данные текущего пользователя\n  const [currentUser, setCurrentUser] = React.useState({ name: 'Gudetama', about: \"lazylazy\", avatar: \"https://i.pinimg.com/originals/37/04/ef/3704efd795fcee0461946434db3c92c2.jpg\" });\n\n    React.useEffect(() => {\n      api.getUserData().then((userData) => {\n        setCurrentUser(userData)\n      }).catch((err) => {\n          console.log(\"Не загрузился юзер: \" + err);\n      });\n    }, []);\n\n\n      function handleEditProfileClick() {\n        setIsEditPopupOpen(true);\n      }\n    \n      function handleAddPlaceClick() {\n        setIsAddPlacePopupOpen(true);\n      }\n\n      function handleEditAvatarClick(){\n        setIsEditAvatarPopupOpen(true);\n      }\n\n      function handleCardClick(card) {\n        setSelectedCard(card);\n      }\n\n\n     // Закрытие попапов\n     function closeAllPopups() {\n      setIsEditPopupOpen(false);\n      setIsAddPlacePopupOpen(false);\n      setIsEditAvatarPopupOpen(false);\n      setSelectedCard(false);\n      setIsRegisterPopupOpen(false);\n    }\n\n\n    // Обновление информации о текущем юзере\n    function handleUpdateUser(values) {\n      api.patchUserData(values).then(userData => {\n        setCurrentUser(userData);\n        closeAllPopups();\n      }).catch((err) => {\n          console.log(\"Не загрузить описание профиля: \" + err);\n      })\n    } \n\n    function handleUpdateAvatar(values) {\n      api.patchUserAvatar(values).then(userData => {\n        setCurrentUser(userData);\n        closeAllPopups();\n      }).catch((err) => {\n          console.log(\"Не загрузить аватар: \" + err);\n      })\n    }\n   \n\n    //Карточки и все, что с ними связано\n\n  const [cards, setCards] = React.useState([]);\n\n  React.useEffect(() => {\n\n    api.getInitialCards().then(cardList => setCards(cardList)\n      ).catch((err) => {\n          console.log(\"Не загрузились карточки: \" + err);\n      });\n    }, []);\n    \n\n    function handleAddPlaceSubmit(data) {\n      api.addUserCard(data).then((newCard) => {setCards([newCard, ...cards]);\n      closeAllPopups()}\n      ).catch((err) => {\n          console.log(\"Не добавить карточку: \" + err);\n      })\n    }\n\n   \n    function handleCardLike(card) {\n      const isLiked = card.likes.some(i => i._id === currentUser._id);\n      api.changeLikeCardStatus(card._id, !isLiked).then((newCard) => {\n        const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n        setCards(newCards);\n      }).catch((err) => {\n        console.log(\"Не поставить лайк: \" + err);\n    })\n    } \n\n      function handleCardDelete(card) {\n        api.delCard(card._id).then(() => {\n        const newCardsTemplate = cards.filter((c) => c._id !== card._id);\n        setCards(newCardsTemplate);\n    }).catch((err) => {\n          console.log(\"Не удаляется карточка: \" + err); \n    }) \n    }\n\n    \n      return (\n        \n      <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page\">\n          <div className=\"page__content\">\n              <Header loggedIn={loggedIn} email={email} handleLogout={handleLogout}/>\n              <Switch>\n              {<ProtectedRoute exact path=\"/\" loggedIn={loggedIn} component={Main}\n                    onEditProfile={handleEditProfileClick} \n                    onAddPlace={handleAddPlaceClick}\n                    onEditAvatar={handleEditAvatarClick}\n                    onCardClick={handleCardClick}\n                    cards={cards}\n                    onCardLike={handleCardLike}\n                    onCardDelete={handleCardDelete}\n                     />}\n\n    <Route path=\"/sign-in\">\n        <Login handleLogin={handleLogin} />\n      </Route>\n      <Route path=\"/sign-up\">\n        <Register handleRegister={handleRegister}/>\n      </Route>\n      <Route path=\"/*\">\n        <Page404 />\n      </Route>\n          </Switch>\n              <ImagePopup card={selectedCard} onClose={closeAllPopups} />\n              <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser} />\n              <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar}/>\n              <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlace={handleAddPlaceSubmit}/>\n              <PopupWithForm name=\"type_submit\" title=\"Вы уверены?\" buttonTitle=\"Да\"/>\n              <InfoTooltip isOpen={isRegisterPopupOpen} onClose={closeAllPopups} message={message} />\n          </div>\n        </div>\n\n      </CurrentUserContext.Provider>\n  );\n};\n  \n\nexport default App;\n","export default \"data:image/png;base64,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\"","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n    <App />\n    </BrowserRouter>\n        \n  </React.StrictMode>\n  ,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}